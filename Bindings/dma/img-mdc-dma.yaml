# SPDX-License-Identifier: None
%YAML 1.2
---
$id: http://devicetree.org/schemas/Bindings/dma/img-mdc-dma.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#
version: 1

title: IMG Multi-threaded DMA Controller (MDC)

maintainers:
  - Andrew Bresticker <abrestic@chromium.org>
description: test

properties:
  compatible:
    items:
      - const: img,pistachio-mdc-dma
    minItems: 1
    maxItems: 1
    additionalItems: false
  reg:
    minItems: 1
    maxItems: 1
    additionalItems: false
  interrupts: {}
  clocks: {}
  clock-names:
    items:
      - const: sys
    minItems: 1
    maxItems: 1
    additionalItems: false
  img,max-burst-multiplier:
    description: FIXME
  img,cr-periph:
    description: FIXME
  '#dma-cells':
    const: 0x3
historical: |+
  * IMG Multi-threaded DMA Controller (MDC)

  Required properties:
  - compatible: Must be "img,pistachio-mdc-dma".
  - reg: Must contain the base address and length of the MDC registers.
  - interrupts: Must contain all the per-channel DMA interrupts.
  - clocks: Must contain an entry for each entry in clock-names.
    See ../clock/clock-bindings.txt for details.
  - clock-names: Must include the following entries:
    - sys: MDC system interface clock.
  - img,cr-periph: Must contain a phandle to the peripheral control syscon
    node which contains the DMA request to channel mapping registers.
  - img,max-burst-multiplier: Must be the maximum supported burst size multiplier.
    The maximum burst size is this value multiplied by the hardware-reported bus
    width.
  - #dma-cells: Must be 3:
    - The first cell is the peripheral's DMA request line.
    - The second cell is a bitmap specifying to which channels the DMA request
      line may be mapped (i.e. bit N set indicates channel N is usable).
    - The third cell is the thread ID to be used by the channel.

  Optional properties:
  - dma-channels: Number of supported DMA channels, up to 32.  If not specified
    the number reported by the hardware is used.

...
