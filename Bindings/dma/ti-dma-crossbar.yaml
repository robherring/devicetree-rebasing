# SPDX-License-Identifier: None
%YAML 1.2
---
$id: http://devicetree.org/schemas/Bindings/dma/ti-dma-crossbar.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#
version: 1

title: Texas Instruments DMA Crossbar (DMA request router)

maintainers:
  - Peter Ujfalusi <peter.ujfalusi@ti.com>
description: test

properties:
  compatible: {}
historical: |+
  Texas Instruments DMA Crossbar (DMA request router)

  Required properties:
  - compatible:	"ti,dra7-dma-crossbar" for DRA7xx DMA crossbar
  		"ti,am335x-edma-crossbar" for AM335x and AM437x
  - reg:		Memory map for accessing module
  - #dma-cells:	Should be set to to match with the DMA controller's dma-cells
  		for ti,dra7-dma-crossbar and <3> for ti,am335x-edma-crossbar.
  - dma-requests:	Number of DMA requests the crossbar can receive
  - dma-masters:	phandle pointing to the DMA controller

  The DMA controller node need to have the following poroperties:
  - dma-requests:	Number of DMA requests the controller can handle

  Optional properties:
  - ti,dma-safe-map: Safe routing value for unused request lines
  - ti,reserved-dma-request-ranges: DMA request ranges which should not be used
  		when mapping xbar input to DMA request, they are either
  		allocated to be used by for example the DSP or they are used as
  		memcpy channels in eDMA.

  Notes:
  When requesting channel via ti,dra7-dma-crossbar, the DMA clinet must request
  the DMA event number as crossbar ID (input to the DMA crossbar).

  For ti,am335x-edma-crossbar: the meaning of parameters of dmas for clients:
  dmas = <&edma_xbar 12 0 1>; where <12> is the DMA request number, <0> is the TC
  the event should be assigned and <1> is the mux selection for in the crossbar.
  When mux 0 is used the DMA channel can be requested directly from edma node.

...
