# SPDX-License-Identifier: None
%YAML 1.2
---
$id: http://devicetree.org/schemas/Bindings/dma/ti-edma.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#
version: 1

title: Texas Instruments eDMA

maintainers:
  - Peter Ujfalusi <peter.ujfalusi@ti.com>
  - Matt Porter <mdp@ti.com>
description: |+
  The eDMA3 consists of two components: Channel controller (CC) and Transfer
  Controller(s) (TC). The CC is the main entry for DMA users since it is
  responsible for the DMA channel handling, while the TCs are responsible to
  execute the actual DMA tansfer.

  ------------------------------------------------------------------------------
  eDMA3 Channel Controller

             

properties:
  compatible:
    items:
      - enum:
          - ti,edma3-tptc
          - ti,edma3-tpcc
          - ti,k2g-edma3-tpcc
          - ti,k2g-edma3-tptc
    minItems: 1
    maxItems: 1
    additionalItems: false
  ti,hwmods:
    items:
      - const: tpcc
    minItems: 1
    maxItems: 1
    additionalItems: false
    description: FIXME
  reg:
    minItems: 1
    maxItems: 1
    additionalItems: false
  reg-names:
    items:
      - const: edma3_cc
    minItems: 1
    maxItems: 1
    additionalItems: false
  interrupts: {}
  interrupt-names:
    items:
      - const: edma3_ccint
      - const: edma3_mperr
      - const: edma3_ccerrint
    minItems: 3
    maxItems: 3
    additionalItems: false
  dma-requests: {}
  '#dma-cells':
    const: 0x2
  ti,tptcs:
    description: FIXME
  ti,edma-memcpy-channels:
    description: FIXME
  power-domains: {}
historical: |
  Texas Instruments eDMA

  The eDMA3 consists of two components: Channel controller (CC) and Transfer
  Controller(s) (TC). The CC is the main entry for DMA users since it is
  responsible for the DMA channel handling, while the TCs are responsible to
  execute the actual DMA tansfer.

  ------------------------------------------------------------------------------
  eDMA3 Channel Controller

  Required properties:
  --------------------
  - compatible:	Should be:
  		- "ti,edma3-tpcc" for the channel controller(s) on OMAP,
  		  AM33xx and AM43xx SoCs.
  		- "ti,k2g-edma3-tpcc", "ti,edma3-tpcc" for the
  		  channel controller(s) on 66AK2G.
  - #dma-cells:	Should be set to <2>. The first number is the DMA request
  		number and the second is the TC the channel is serviced on.
  - reg:		Memory map of eDMA CC
  - reg-names:	"edma3_cc"
  - interrupts:	Interrupt lines for CCINT, MPERR and CCERRINT.
  - interrupt-names: "edma3_ccint", "edma3_mperr" and "edma3_ccerrint"
  - ti,tptcs:	List of TPTCs associated with the eDMA in the following form:
  		<&tptc_phandle TC_priority_number>. The highest priority is 0.

  SoC-specific Required properties:
  --------------------------------
  The following are mandatory properties for OMAP, AM33xx and AM43xx SoCs only:
  - ti,hwmods:	Name of the hwmods associated to the eDMA CC.

  The following are mandatory properties for 66AK2G SoCs only:
  - power-domains:Should contain a phandle to a PM domain provider node
  		and an args specifier containing the device id
  		value. This property is as per the binding,
  		Documentation/devicetree/bindings/soc/ti/sci-pm-domain.txt

  Optional properties:
  -------------------
  - ti,edma-memcpy-channels: List of channels allocated to be used for memcpy, iow
  		these channels will be SW triggered channels. See example.
  - ti,edma-reserved-slot-ranges: PaRAM slot ranges which should not be used by
  		the driver, they are allocated to be used by for example the
  		DSP. See example.

  ------------------------------------------------------------------------------
  eDMA3 Transfer Controller

  Required properties:
  --------------------
  - compatible:	Should be:
  		- "ti,edma3-tptc" for the transfer controller(s) on OMAP,
  		  AM33xx and AM43xx SoCs.
  		- "ti,k2g-edma3-tptc", "ti,edma3-tptc" for the
  		  transfer controller(s) on 66AK2G.
  - reg:		Memory map of eDMA TC
  - interrupts:	Interrupt number for TCerrint.

  SoC-specific Required properties:
  --------------------------------
  The following are mandatory properties for OMAP, AM33xx and AM43xx SoCs only:
  - ti,hwmods:	Name of the hwmods associated to the eDMA TC.

  The following are mandatory properties for 66AK2G SoCs only:
  - power-domains:Should contain a phandle to a PM domain provider node
  		and an args specifier containing the device id
  		value. This property is as per the binding,
  		Documentation/devicetree/bindings/soc/ti/sci-pm-domain.txt

  Optional properties:
  -------------------
  - interrupt-names: "edma3_tcerrint"

  ------------------------------------------------------------------------------
