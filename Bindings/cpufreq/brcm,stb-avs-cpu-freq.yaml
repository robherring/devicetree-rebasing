# SPDX-License-Identifier: None
%YAML 1.2
---
$id: http://devicetree.org/schemas/Bindings/cpufreq/brcm,stb-avs-cpu-freq.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#
version: 1

title: Broadcom AVS mail box and interrupt register bindings

maintainers:
  - Markus Mayer <mmayer@broadcom.com>
description: |+
  A total of three DT nodes are required. One node (brcm,avs-cpu-data-mem)
  references the mailbox register used to communicate with the AVS CPU[1]. The
  second node (brcm,avs-cpu-l2-intr) is required to trigger an interrupt on
  the AVS CPU. The interrupt tells the AVS CPU that it needs to process a
  command sent to it by a driver. Interrupting the AVS CPU is mandatory for
  commands to be processed.

  The interface also requires a reference to the AVS host interrupt controller,
  so a driver can react to interrupts generated by the AVS CPU whenever a command
  has been processed. See [2] for more information on the brcm,l2-intc node.

  [1] The AVS CPU is an independent co-processor that runs proprietary
  firmware. On some SoCs, this firmware supports DFS and DVFS in addition to
  Adaptive Voltage Scaling.

  [2] Documentation/devicetree/bindings/interrupt-controller/brcm,l2-intc.txt


  Node brcm,avs-cpu-data-mem
  --------------------------

             

properties:
  compatible: {}
historical: |+
  Broadcom AVS mail box and interrupt register bindings
  =====================================================

  A total of three DT nodes are required. One node (brcm,avs-cpu-data-mem)
  references the mailbox register used to communicate with the AVS CPU[1]. The
  second node (brcm,avs-cpu-l2-intr) is required to trigger an interrupt on
  the AVS CPU. The interrupt tells the AVS CPU that it needs to process a
  command sent to it by a driver. Interrupting the AVS CPU is mandatory for
  commands to be processed.

  The interface also requires a reference to the AVS host interrupt controller,
  so a driver can react to interrupts generated by the AVS CPU whenever a command
  has been processed. See [2] for more information on the brcm,l2-intc node.

  [1] The AVS CPU is an independent co-processor that runs proprietary
  firmware. On some SoCs, this firmware supports DFS and DVFS in addition to
  Adaptive Voltage Scaling.

  [2] Documentation/devicetree/bindings/interrupt-controller/brcm,l2-intc.txt


  Node brcm,avs-cpu-data-mem
  --------------------------

  Required properties:
  - compatible: must include: brcm,avs-cpu-data-mem and
                should include: one of brcm,bcm7271-avs-cpu-data-mem or
                                brcm,bcm7268-avs-cpu-data-mem
  - reg: Specifies base physical address and size of the registers.
  - interrupts: The interrupt that the AVS CPU will use to interrupt the host
                when a command completed.
  - interrupt-parent: The interrupt controller the above interrupt is routed
                      through.
  - interrupt-names: The name of the interrupt used to interrupt the host.

  Optional properties:
  - None

  Node brcm,avs-cpu-l2-intr
  -------------------------

  Required properties:
  - compatible: must include: brcm,avs-cpu-l2-intr and
                should include: one of brcm,bcm7271-avs-cpu-l2-intr or
                                brcm,bcm7268-avs-cpu-l2-intr
  - reg: Specifies base physical address and size of the registers.

  Optional properties:
  - None


...
