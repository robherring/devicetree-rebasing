# SPDX-License-Identifier: None
%YAML 1.2
---
$id: http://devicetree.org/schemas/Bindings/iio/counter/stm32-lptimer-cnt.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#
version: 1

title: STMicroelectronics STM32 Low-Power Timer quadrature encoder and counter

maintainers:
  - Fabrice Gasnier <fabrice.gasnier@st.com>
description: |+
  STM32 Low-Power Timer provides several counter modes. It can be used as:
  - quadrature encoder to detect angular position and direction of rotary
    elements, from IN1 and IN2 input signals.
  - simple counter from IN1 input signal.

  Must be a sub-node of an STM32 Low-Power Timer device tree node.
  See ../mfd/stm32-lptimer.txt for details about the parent node.

             

properties:
  compatible:
    items:
      - enum:
          - st,stm32-lptimer-counter
          - st,stm32-lptimer
    minItems: 1
    maxItems: 1
    additionalItems: false
  '#address-cells':
    const: 0x1
  '#size-cells':
    const: 0x0
  reg:
    minItems: 1
    maxItems: 1
    additionalItems: false
  clocks: {}
  clock-names:
    items:
      - const: mux
    minItems: 1
    maxItems: 1
    additionalItems: false
examples:
  - |
    timer@40002400 {
      compatible = "st,stm32-lptimer";
      ...
      counter {
        compatible = "st,stm32-lptimer-counter";
        pinctrl-names = "default";
        pinctrl-0 = <&lptim1_in_pins>;
      };
    };
historical: |+
  STMicroelectronics STM32 Low-Power Timer quadrature encoder and counter

  STM32 Low-Power Timer provides several counter modes. It can be used as:
  - quadrature encoder to detect angular position and direction of rotary
    elements, from IN1 and IN2 input signals.
  - simple counter from IN1 input signal.

  Must be a sub-node of an STM32 Low-Power Timer device tree node.
  See ../mfd/stm32-lptimer.txt for details about the parent node.

  Required properties:
  - compatible:		Must be "st,stm32-lptimer-counter".
  - pinctrl-names: 	Set to "default".
  - pinctrl-0: 		List of phandles pointing to pin configuration nodes,
  			to set IN1/IN2 pins in mode of operation for Low-Power
  			Timer input on external pin.

...
