# SPDX-License-Identifier: None
%YAML 1.2
---
$id: http://devicetree.org/schemas/Bindings/iommu/rockchip,iommu.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#
version: 1

title: Rockchip IOMMU

maintainers:
  - Daniel Kurtz <djkurtz@chromium.org>
description: |+
  A Rockchip DRM iommu translates io virtual addresses to physical addresses for
  its master device.  Each slave device is bound to a single master device, and
  shares its clocks, power domain and irq.

             

properties:
  compatible:
    items:
      - const: rockchip,iommu
    minItems: 1
    maxItems: 1
    additionalItems: false
  reg:
    minItems: 1
    maxItems: 1
    additionalItems: false
  interrupts: {}
  interrupt-names:
    items:
      - const: iep_mmu
    minItems: 1
    maxItems: 1
    additionalItems: false
  '#iommu-cells':
    const: 0x0
  rockchip,disable-mmu-reset:
    description: FIXME
    type: boolean
  power-domains: {}
  iommu-cells: {}
  clocks: {}
  clock-names:
    items:
      - const: aclk
      - const: hclk
    minItems: 2
    maxItems: 2
    additionalItems: false
examples:
  - |
    vopl_mmu: iommu@ff940300 {
      compatible = "rockchip,iommu";
      reg = <0xff940300 0x100>;
      interrupts = <GIC_SPI 16 IRQ_TYPE_LEVEL_HIGH>;
      interrupt-names = "vopl_mmu";
      #iommu-cells = <0>;
    };
historical: |+
  Rockchip IOMMU
  ==============

  A Rockchip DRM iommu translates io virtual addresses to physical addresses for
  its master device.  Each slave device is bound to a single master device, and
  shares its clocks, power domain and irq.

  Required properties:
  - compatible      : Should be "rockchip,iommu"
  - reg             : Address space for the configuration registers
  - interrupts      : Interrupt specifier for the IOMMU instance
  - interrupt-names : Interrupt name for the IOMMU instance
  - #iommu-cells    : Should be <0>.  This indicates the iommu is a
                      "single-master" device, and needs no additional information
                      to associate with its master device.  See:
                      Documentation/devicetree/bindings/iommu/iommu.txt

  Optional properties:
  - rockchip,disable-mmu-reset : Don't use the mmu reset operation.
  			       Some mmu instances may produce unexpected results
  			       when the reset operation is used.

...
