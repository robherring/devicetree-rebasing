# SPDX-License-Identifier: None
%YAML 1.2
---
$id: http://devicetree.org/schemas/Bindings/pinctrl/brcm,bcm2835-gpio.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#
version: 1

title: Broadcom BCM2835 GPIO (and pinmux) controller

maintainers:
  - Simon Arlott <simon@fire.lp0.eu>
description: |+
  The BCM2835 GPIO module is a combined GPIO controller, (GPIO) interrupt
  controller, and pinmux/control device.

             

properties:
  compatible:
    items:
      - const: brcm,bcm2835-gpio
    minItems: 1
    maxItems: 1
    additionalItems: false
  reg:
    minItems: 1
    maxItems: 1
    additionalItems: false
  interrupts: {}
  gpio-controller: {}
  '#gpio-cells':
    const: 0x2
  interrupt-controller: {}
  '#interrupt-cells':
    const: 0x2
  pinctrl-names:
    items:
      - const: default
    minItems: 1
    maxItems: 1
    additionalItems: false
  gpio-line-names:
    items:
      - const: GPIO0
      - const: GPIO1
      - const: SDA1
      - const: SCL1
      - const: GPIO_GCLK
      - const: GPIO5
      - const: GPIO6
      - const: SPI_CE1_N
      - const: SPI_CE0_N
      - const: SPI_MISO
      - const: SPI_MOSI
      - const: SPI_SCLK
      - const: GPIO12
      - const: GPIO13
      - const: TXD0
      - const: RXD0
      - const: GPIO16
      - const: GPIO17
      - const: GPIO18
      - const: GPIO19
      - const: GPIO20
      - const: GPIO21
      - const: GPIO22
      - const: GPIO23
      - const: GPIO24
      - const: GPIO25
      - const: GPIO26
      - const: GPIO27
      - const: SDA0
      - const: SCL0
      - const: NC
      - const: NC
      - const: NC
      - const: NC
      - const: NC
      - const: NC
      - const: NC
      - const: NC
      - const: NC
      - const: NC
      - const: CAM_GPIO1
      - const: WL_ON
      - const: NC
      - const: WIFI_CLK
      - const: CAM_GPIO0
      - const: BT_ON
      - const: HDMI_HPD_N
      - const: STATUS_LED_N
      - const: SD_CLK_R
      - const: SD_CMD_R
      - const: SD_DATA0_R
      - const: SD_DATA1_R
      - const: SD_DATA2_R
      - const: SD_DATA3_R
    minItems: 54
    maxItems: 54
    additionalItems: false
  pinctrl-0: {}
examples:
  - |
    gpio: gpio {
      compatible = "brcm,bcm2835-gpio";
      reg = <0x2200000 0xb4>;
      interrupts = <2 17>, <2 19>, <2 18>, <2 20>;

      gpio-controller;
      #gpio-cells = <2>;

      interrupt-controller;
      #interrupt-cells = <2>;
    };
historical: |+
  Broadcom BCM2835 GPIO (and pinmux) controller

  The BCM2835 GPIO module is a combined GPIO controller, (GPIO) interrupt
  controller, and pinmux/control device.

  Required properties:
  - compatible: "brcm,bcm2835-gpio"
  - reg: Should contain the physical address of the GPIO module's registers.
  - gpio-controller: Marks the device node as a GPIO controller.
  - #gpio-cells : Should be two. The first cell is the pin number and the
    second cell is used to specify optional parameters:
    - bit 0 specifies polarity (0 for normal, 1 for inverted)
  - interrupts : The interrupt outputs from the controller. One interrupt per
    individual bank followed by the "all banks" interrupt.
  - interrupt-controller: Marks the device node as an interrupt controller.
  - #interrupt-cells : Should be 2.
    The first cell is the GPIO number.
    The second cell is used to specify flags:
      bits[3:0] trigger type and level flags:
        1 = low-to-high edge triggered.
        2 = high-to-low edge triggered.
        4 = active high level-sensitive.
        8 = active low level-sensitive.
      Valid combinations are 1, 2, 3, 4, 8.

  Please refer to ../gpio/gpio.txt for a general description of GPIO bindings.

  Please refer to pinctrl-bindings.txt in this directory for details of the
  common pinctrl bindings used by client devices, including the meaning of the
  phrase "pin configuration node".

  Each pin configuration node lists the pin(s) to which it applies, and one or
  more of the mux function to select on those pin(s), and pull-up/down
  configuration. Each subnode only affects those parameters that are explicitly
  listed. In other words, a subnode that lists only a mux function implies no
  information about any pull configuration. Similarly, a subnode that lists only
  a pul parameter implies no information about the mux function.

  Required subnode-properties:
  - brcm,pins: An array of cells. Each cell contains the ID of a pin. Valid IDs
    are the integer GPIO IDs; 0==GPIO0, 1==GPIO1, ... 53==GPIO53.

  Optional subnode-properties:
  - brcm,function: Integer, containing the function to mux to the pin(s):
    0: GPIO in
    1: GPIO out
    2: alt5
    3: alt4
    4: alt0
    5: alt1
    6: alt2
    7: alt3
  - brcm,pull: Integer, representing the pull-down/up to apply to the pin(s):
    0: none
    1: down
    2: up

  Each of brcm,function and brcm,pull may contain either a single value which
  will be applied to all pins in brcm,pins, or 1 value for each entry in
  brcm,pins.

...
