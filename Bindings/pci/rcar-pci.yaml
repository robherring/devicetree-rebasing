# SPDX-License-Identifier: None
%YAML 1.2
---
$id: http://devicetree.org/schemas/Bindings/pci/rcar-pci.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#
version: 1

title: Renesas R-Car PCIe interface

maintainers:
  - Phil Edworthy <phil.edworthy@renesas.com>
  - Simon Horman <horms+renesas@verge.net.au>
description: test

properties:
  compatible:
    items:
      - enum:
          - renesas,pcie-r8a7791
          - renesas,pcie-r8a7790
          - renesas,pcie-r8a7795
      - const: renesas,pcie-rcar-gen2
    minItems: 2
    maxItems: 2
    additionalItems: false
  reg:
    minItems: 1
    maxItems: 1
    additionalItems: false
  '#address-cells':
    const: 0x3
  '#size-cells':
    const: 0x2
  bus-range: {}
  device_type:
    items:
      - const: pci
    minItems: 1
    maxItems: 1
    additionalItems: false
  ranges: {}
  dma-ranges: {}
  interrupts: {}
  '#interrupt-cells':
    const: 0x1
  interrupt-map-mask: {}
  interrupt-map: {}
  clocks: {}
  clock-names:
    items:
      - const: pcie
      - const: pcie_bus
    minItems: 2
    maxItems: 2
    additionalItems: false
  power-domains: {}
  resets: {}
historical: |+
  * Renesas R-Car PCIe interface

  Required properties:
  compatible: "renesas,pcie-r8a7779" for the R8A7779 SoC;
  	    "renesas,pcie-r8a7790" for the R8A7790 SoC;
  	    "renesas,pcie-r8a7791" for the R8A7791 SoC;
  	    "renesas,pcie-r8a7793" for the R8A7793 SoC;
  	    "renesas,pcie-r8a7795" for the R8A7795 SoC;
  	    "renesas,pcie-r8a7796" for the R8A7796 SoC;
  	    "renesas,pcie-rcar-gen2" for a generic R-Car Gen2 compatible device.
  	    "renesas,pcie-rcar-gen3" for a generic R-Car Gen3 compatible device.

  	    When compatible with the generic version, nodes must list the
  	    SoC-specific version corresponding to the platform first
  	    followed by the generic version.

  - reg: base address and length of the PCIe controller registers.
  - #address-cells: set to <3>
  - #size-cells: set to <2>
  - bus-range: PCI bus numbers covered
  - device_type: set to "pci"
  - ranges: ranges for the PCI memory and I/O regions.
  - dma-ranges: ranges for the inbound memory regions.
  - interrupts: two interrupt sources for MSI interrupts, followed by interrupt
  	source for hardware related interrupts (e.g. link speed change).
  - #interrupt-cells: set to <1>
  - interrupt-map-mask and interrupt-map: standard PCI properties
  	to define the mapping of the PCIe interface to interrupt numbers.
  - clocks: from common clock binding: clock specifiers for the PCIe controller
  	and PCIe bus clocks.
  - clock-names: from common clock binding: should be "pcie" and "pcie_bus".

...
