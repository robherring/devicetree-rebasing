# SPDX-License-Identifier: None
%YAML 1.2
---
$id: http://devicetree.org/schemas/Bindings/pci/rockchip-pcie.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#
version: 1

title: Rockchip AXI PCIe Root Port Bridge DT description

maintainers:
  - Shawn Lin <shawn.lin@rock-chips.com>
description: test

properties:
  compatible: {}
historical: |+
  * Rockchip AXI PCIe Root Port Bridge DT description

  Required properties:
  - #address-cells: Address representation for root ports, set to <3>
  - #size-cells: Size representation for root ports, set to <2>
  - #interrupt-cells: specifies the number of cells needed to encode an
  		interrupt source. The value must be 1.
  - compatible: Should contain "rockchip,rk3399-pcie"
  - reg: Two register ranges as listed in the reg-names property
  - reg-names: Must include the following names
  	- "axi-base"
  	- "apb-base"
  - clocks: Must contain an entry for each entry in clock-names.
  		See ../clocks/clock-bindings.txt for details.
  - clock-names: Must include the following entries:
  	- "aclk"
  	- "aclk-perf"
  	- "hclk"
  	- "pm"
  - msi-map: Maps a Requester ID to an MSI controller and associated
  	msi-specifier data. See ./pci-msi.txt
  - interrupts: Three interrupt entries must be specified.
  - interrupt-names: Must include the following names
  	- "sys"
  	- "legacy"
  	- "client"
  - resets: Must contain seven entries for each entry in reset-names.
  	   See ../reset/reset.txt for details.
  - reset-names: Must include the following names
  	- "core"
  	- "mgmt"
  	- "mgmt-sticky"
  	- "pipe"
  	- "pm"
  	- "aclk"
  	- "pclk"
  - pinctrl-names : The pin control state names
  - pinctrl-0: The "default" pinctrl state
  - #interrupt-cells: specifies the number of cells needed to encode an
  	interrupt source. The value must be 1.
  - interrupt-map-mask and interrupt-map: standard PCI properties

  Required properties for legacy PHY model (deprecated):
  - phys: From PHY bindings: Phandle for the Generic PHY for PCIe.
  - phy-names:  MUST be "pcie-phy".

  Required properties for per-lane PHY model (preferred):
  - phys: Must contain an phandle to a PHY for each entry in phy-names.
  - phy-names: Must include 4 entries for all 4 lanes even if some of
    them won't be used for your cases. Entries are of the form "pcie-phy-N":
    where N ranges from 0 to 3.
    (see example below and you MUST also refer to ../phy/rockchip-pcie-phy.txt
    for changing the #phy-cells of phy node to support it)

  Optional Property:
  - aspm-no-l0s: RC won't support ASPM L0s. This property is needed if
  	using 24MHz OSC for RC's PHY.
  - ep-gpios: contain the entry for pre-reset GPIO
  - num-lanes: number of lanes to use
  - vpcie12v-supply: The phandle to the 12v regulator to use for PCIe.
  - vpcie3v3-supply: The phandle to the 3.3v regulator to use for PCIe.
  - vpcie1v8-supply: The phandle to the 1.8v regulator to use for PCIe.
  - vpcie0v9-supply: The phandle to the 0.9v regulator to use for PCIe.

  *Interrupt controller child node*
  The core controller provides a single interrupt for legacy INTx. The PCIe node
  should contain an interrupt controller node as a target for the PCI
  'interrupt-map' property. This node represents the domain at which the four
  INTx interrupts are decoded and routed.


  Required properties for Interrupt controller child node:
  - interrupt-controller: identifies the node as an interrupt controller
  - #address-cells: specifies the number of cells needed to encode an
  	address. The value must be 0.
  - #interrupt-cells: specifies the number of cells needed to encode an
  	interrupt source. The value must be 1.

...
