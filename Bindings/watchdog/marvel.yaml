# SPDX-License-Identifier: None
%YAML 1.2
---
$id: http://devicetree.org/schemas/Bindings/watchdog/marvel.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#
version: 1

title: Marvell Orion Watchdog Time

maintainers:
  - Andrew Lunn <andrew@lunn.ch>
  - Ezequiel Garcia <ezequiel.garcia@free-electrons.com>
description: test

properties:
  compatible:
    items:
      - enum:
          - marvell,armada-380-wdt
          - marvell,orion-wdt
          - marvell,armada-370-wdt
          - marvell,armada-375-wdt
          - marvell,armada-xp-wdt
    minItems: 1
    maxItems: 1
    additionalItems: false
  reg:
    minItems: 2
    maxItems: 2
    additionalItems: false
  interrupt-parent: {}
  interrupts: {}
  clocks: {}
  clock-names:
    items:
      - const: nbclk
      - const: fixed
    minItems: 2
    maxItems: 2
    additionalItems: false
examples:
  - |
    wdt@20300 {
      compatible = "marvell,orion-wdt";
      reg = <0x20300 0x28>, <0x20108 0x4>;
      interrupts = <3>;
      timeout-sec = <10>;
      clocks = <&gate_clk 7>;
    };
historical: |+
  * Marvell Orion Watchdog Time

  Required Properties:

  - Compatibility : "marvell,orion-wdt"
  		  "marvell,armada-370-wdt"
  		  "marvell,armada-xp-wdt"
  		  "marvell,armada-375-wdt"
  		  "marvell,armada-380-wdt"

  - reg		: Should contain two entries: first one with the
  		  timer control address, second one with the
  		  rstout enable address.

  For "marvell,armada-375-wdt" and "marvell,armada-380-wdt":

  - reg		: A third entry is mandatory and should contain the
                    shared mask/unmask RSTOUT address.

  Clocks required for compatibles = "marvell,orion-wdt",
  				  "marvell,armada-370-wdt":
  - clocks : Must contain a single entry describing the clock input

  Clocks required for compatibles = "marvell,armada-xp-wdt"
  				  "marvell,armada-375-wdt"
  				  "marvell,armada-380-wdt":
  - clocks : Must contain an entry for each entry in clock-names.
  - clock-names : Must include the following entries:
    "nbclk" (L2/coherency fabric clock),
    "fixed" (Reference 25 MHz fixed-clock).

  Optional properties:

  - interrupts	: Contains the IRQ for watchdog expiration
  - timeout-sec	: Contains the watchdog timeout in seconds

...
