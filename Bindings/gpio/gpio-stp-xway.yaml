# SPDX-License-Identifier: None
%YAML 1.2
---
$id: http://devicetree.org/schemas/Bindings/gpio/gpio-stp-xway.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#
version: 1

title: Lantiq SoC Serial To Parallel (STP) GPIO controller

maintainers:
  - John Crispin <blogic@openwrt.org>
description: |+
  The Serial To Parallel (STP) is found on MIPS based Lantiq socs. It is a
  peripheral controller used to drive external shift register cascades. At most
  3 groups of 8 bits can be driven. The hardware is able to allow the DSL modem
  to drive the 2 LSBs of the cascade automatically.


             

properties:
  compatible:
    items:
      - const: lantiq,gpio-stp-xway
    minItems: 1
    maxItems: 1
    additionalItems: false
  '#gpio-cells':
    const: 0x2
  gpio-controller: {}
  reg:
    minItems: 1
    maxItems: 1
    additionalItems: false
  lantiq,shadow:
    description: FIXME
  lantiq,groups:
    description: FIXME
historical: |+
  Lantiq SoC Serial To Parallel (STP) GPIO controller

  The Serial To Parallel (STP) is found on MIPS based Lantiq socs. It is a
  peripheral controller used to drive external shift register cascades. At most
  3 groups of 8 bits can be driven. The hardware is able to allow the DSL modem
  to drive the 2 LSBs of the cascade automatically.


  Required properties:
  - compatible : Should be "lantiq,gpio-stp-xway"
  - reg : Address and length of the register set for the device
  - #gpio-cells : Should be two.  The first cell is the pin number and
    the second cell is used to specify optional parameters (currently
    unused).
  - gpio-controller : Marks the device node as a gpio controller.

  Optional properties:
  - lantiq,shadow : The default value that we shall assume as already set on the
    shift register cascade.
  - lantiq,groups : Set the 3 bit mask to select which of the 3 groups are enabled
    in the shift register cascade.
  - lantiq,dsl : The dsl core can control the 2 LSBs of the gpio cascade. This 2 bit
    property can enable this feature.
  - lantiq,phy1 : The gphy1 core can control 3 bits of the gpio cascade.
  - lantiq,phy2 : The gphy2 core can control 3 bits of the gpio cascade.
  - lantiq,rising : use rising instead of falling edge for the shift register

...
