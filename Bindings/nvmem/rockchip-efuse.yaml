# SPDX-License-Identifier: None
%YAML 1.2
---
$id: http://devicetree.org/schemas/Bindings/nvmem/rockchip-efuse.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#
version: 1

title: Rockchip eFuse device tree bindings

maintainers:
  - Finley Xiao <finley.xiao@rock-chips.com>
  - ZhengShunQian <zhengsq@rock-chips.com>
description: test

properties:
  compatible:
    items:
      - enum:
          - rockchip,rk3188-efuse
          - rockchip,rk3066a-efuse
          - rockchip,rk3288-efuse
          - rockchip,rk3228-efuse
          - rockchip,rk3399-efuse
          - rockchip,rk3368-efuse
          - rockchip,rk3328-efuse
    minItems: 1
    maxItems: 1
    additionalItems: false
  reg:
    minItems: 1
    maxItems: 1
    additionalItems: false
  '#address-cells':
    const: 0x1
  '#size-cells':
    const: 0x1
  clocks: {}
  clock-names:
    items:
      - const: pclk_efuse
    minItems: 1
    maxItems: 1
    additionalItems: false
  rockchip,efuse-size:
    description: FIXME
examples:
  - |
    efuse: efuse@ffb40000 {
      compatible = "rockchip,rk3288-efuse";
      reg = <0xffb40000 0x20>;
      #address-cells = <1>;
      #size-cells = <1>;
      clocks = <&cru PCLK_EFUSE256>;
      clock-names = "pclk_efuse";

      /* Data cells */
      cpu_leakage: cpu_leakage {
        reg = <0x17 0x1>;
      };
    };

    = Data consumers =
    Are device nodes which consume nvmem data cells.

    Example:

    cpu_leakage {
      ...
      nvmem-cells = <&cpu_leakage>;
      nvmem-cell-names = "cpu_leakage";
    };
historical: |+
  = Rockchip eFuse device tree bindings =

  Required properties:
  - compatible: Should be one of the following.
    - "rockchip,rk3066a-efuse" - for RK3066a SoCs.
    - "rockchip,rk3188-efuse" - for RK3188 SoCs.
    - "rockchip,rk3228-efuse" - for RK3228 SoCs.
    - "rockchip,rk3288-efuse" - for RK3288 SoCs.
    - "rockchip,rk3328-efuse" - for RK3328 SoCs.
    - "rockchip,rk3368-efuse" - for RK3368 SoCs.
    - "rockchip,rk3399-efuse" - for RK3399 SoCs.
  - reg: Should contain the registers location and exact eFuse size
  - clocks: Should be the clock id of eFuse
  - clock-names: Should be "pclk_efuse"

  Optional properties:
  - rockchip,efuse-size: Should be exact eFuse size in byte, the eFuse
    size in property <reg> will be invalid if define this property.

  Deprecated properties:
  - compatible: "rockchip,rockchip-efuse"
    Old efuse compatible value compatible to rk3066a, rk3188 and rk3288
    efuses

  = Data cells =
  Are child nodes of eFuse, bindings of which as described in
  bindings/nvmem/nvmem.txt

...
