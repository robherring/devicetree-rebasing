# SPDX-License-Identifier: None
%YAML 1.2
---
$id: http://devicetree.org/schemas/Bindings/mips/cpu_irq.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#
version: 1

title: MIPS CPU interrupt controller

maintainers:
  - John Crispin <blogic@openwrt.org>
description: |+
  On MIPS the mips_cpu_irq_of_init() helper can be used to initialize the 8 CPU
  IRQs from a devicetree file and create a irq_domain for IRQ controller.

  With the irq_domain in place we can describe how the 8 IRQs are wired to the
  platforms internal interrupt controller cascade.

  Below is an example of a platform describing the cascade inside the devicetree
  and the code used to load it inside arch_init_irq().

             

properties:
  compatible:
    items:
      - const: mti,cpu-interrupt-controller
    minItems: 1
    maxItems: 1
    additionalItems: false
  '#address-cells':
    const: 0x0
  '#interrupt-cells':
    const: 0x1
  interrupt-controller: {}
examples:
  - |
    cpu-irq: cpu-irq {
      #address-cells = <0>;

      interrupt-controller;
      #interrupt-cells = <1>;

      compatible = "mti,cpu-interrupt-controller";
    };

    intc: intc@200 {
      compatible = "ralink,rt2880-intc";
      reg = <0x200 0x100>;

      interrupt-controller;
      #interrupt-cells = <1>;

      interrupt-parent = <&cpu-irq>;
      interrupts = <2>;
    };


    Example platform irq.c:
    static struct of_device_id __initdata of_irq_ids[] = {
    { .compatible = "mti,cpu-interrupt-controller", .data = mips_cpu_irq_of_init },
    { .compatible = "ralink,rt2880-intc", .data = intc_of_init },
    {},
    };
historical: |+
  MIPS CPU interrupt controller

  On MIPS the mips_cpu_irq_of_init() helper can be used to initialize the 8 CPU
  IRQs from a devicetree file and create a irq_domain for IRQ controller.

  With the irq_domain in place we can describe how the 8 IRQs are wired to the
  platforms internal interrupt controller cascade.

  Below is an example of a platform describing the cascade inside the devicetree
  and the code used to load it inside arch_init_irq().

  Required properties:
  - compatible : Should be "mti,cpu-interrupt-controller"

...
