# SPDX-License-Identifier: None
%YAML 1.2
---
$id: http://devicetree.org/schemas/Bindings/phy/bcm-ns-usb3-phy.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#
version: 1

title: Driver for Broadcom Northstar USB 3.0 PHY

maintainers:
  - Rafał Miłecki <rafal@milecki.pl>
description: test

properties:
  compatible:
    items:
      - enum:
          - brcm,ns-ax-usb3-phy
          - brcm,ns-bx-usb3-phy
    minItems: 1
    maxItems: 1
    additionalItems: false
  reg:
    minItems: 2
    maxItems: 2
    additionalItems: false
  reg-names:
    items:
      - const: dmp
      - const: ccb-mii
    minItems: 2
    maxItems: 2
    additionalItems: false
  '#phy-cells':
    const: 0x0
examples:
  - |
    mdio: mdio@0 {
      reg = <0x0>;
      #size-cells = <1>;
      #address-cells = <0>;

      usb3-phy@10 {
        compatible = "brcm,ns-ax-usb3-phy";
        reg = <0x10>;
        usb3-dmp-syscon = <&usb3_dmp>;
        #phy-cells = <0>;
      };
    };

    usb3_dmp: syscon@18105000 {
      reg = <0x18105000 0x1000>;
    };
historical: |+
  Driver for Broadcom Northstar USB 3.0 PHY

  Required properties:

  - compatible: one of: "brcm,ns-ax-usb3-phy", "brcm,ns-bx-usb3-phy".
  - reg: address of MDIO bus device
  - usb3-dmp-syscon: phandle to syscon with DMP (Device Management Plugin)
  		   registers
  - #phy-cells: must be 0

  Initialization of USB 3.0 PHY depends on Northstar version. There are currently
  three known series: Ax, Bx and Cx.
  Known A0: BCM4707 rev 0
  Known B0: BCM4707 rev 4, BCM53573 rev 2
  Known B1: BCM4707 rev 6
  Known C0: BCM47094 rev 0

...
