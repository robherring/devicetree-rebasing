# SPDX-License-Identifier: None
%YAML 1.2
---
$id: http://devicetree.org/schemas/Bindings/usb/dwc3-st.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#
version: 1

title: ST DWC3 glue logic

maintainers:
  - Peter Griffin <peter.griffin@linaro.org>
description: |+
  This file documents the parameters for the dwc3-st driver.
  This driver controls the glue logic used to configure the dwc3 core on
  STiH407 based platforms.

             

properties:
  compatible:
    items:
      - const: st,stih407-dwc3
    minItems: 1
    maxItems: 1
    additionalItems: false
  reg:
    minItems: 2
    maxItems: 2
    additionalItems: false
  reg-names:
    items:
      - const: reg-glue
      - const: syscfg-reg
    minItems: 2
    maxItems: 2
    additionalItems: false
  st,syscfg:
    description: FIXME
  resets: {}
  reset-names:
    items:
      - const: powerdown
      - const: softreset
    minItems: 2
    maxItems: 2
    additionalItems: false
  '#address-cells':
    const: 0x1
  '#size-cells':
    const: 0x1
  pinctrl-names:
    items:
      - const: default
    minItems: 1
    maxItems: 1
    additionalItems: false
  pinctrl-0: {}
  ranges: {}
historical: |
  ST DWC3 glue logic

  This file documents the parameters for the dwc3-st driver.
  This driver controls the glue logic used to configure the dwc3 core on
  STiH407 based platforms.

  Required properties:
   - compatible	: must be "st,stih407-dwc3"
   - reg		: glue logic base address and USB syscfg ctrl register offset
   - reg-names	: should be "reg-glue" and "syscfg-reg"
   - st,syscon	: should be phandle to system configuration node which
  		  encompasses the glue registers
   - resets	: list of phandle and reset specifier pairs. There should be two entries, one
  		  for the powerdown and softreset lines of the usb3 IP
   - reset-names	: list of reset signal names. Names should be "powerdown" and "softreset"
  See: Documentation/devicetree/bindings/reset/st,sti-powerdown.txt
  See: Documentation/devicetree/bindings/reset/reset.txt

   - #address-cells, #size-cells : should be '1' if the device has sub-nodes
     with 'reg' property

   - pinctl-names	: A pinctrl state named "default" must be defined
  See: Documentation/devicetree/bindings/pinctrl/pinctrl-bindings.txt

   - pinctrl-0	: Pin control group
  See: Documentation/devicetree/bindings/pinctrl/pinctrl-bindings.txt

   - ranges	: allows valid 1:1 translation between child's address space and
  		  parent's address space

  Sub-nodes:
  The dwc3 core should be added as subnode to ST DWC3 glue as shown in the
