# SPDX-License-Identifier: None
%YAML 1.2
---
$id: http://devicetree.org/schemas/Bindings/usb/nvidia,tegra124-xusb.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#
version: 1

title: NVIDIA Tegra xHCI controller

maintainers:
  - Thierry Reding <treding@nvidia.com>
description: |+
  The Tegra xHCI controller supports both USB2 and USB3 interfaces exposed by
  the Tegra XUSB pad controller.

             

properties:
  compatible:
    items:
      - const: nvidia,tegra124-xusb
    minItems: 1
    maxItems: 1
    additionalItems: false
  reg:
    minItems: 3
    maxItems: 3
    additionalItems: false
  reg-names:
    items:
      - const: hcd
      - const: fpci
      - const: ipfs
    minItems: 3
    maxItems: 3
    additionalItems: false
  interrupts: {}
  clocks: {}
  clock-names:
    items:
      - const: xusb_host
      - const: xusb_host_src
      - const: xusb_falcon_src
      - const: xusb_ss
      - const: xusb_ss_div2
      - const: xusb_ss_src
      - const: xusb_hs_src
      - const: xusb_fs_src
      - const: pll_u_480m
      - const: clk_m
      - const: pll_e
    minItems: 11
    maxItems: 11
    additionalItems: false
  resets: {}
  reset-names:
    items:
      - const: xusb_host
      - const: xusb_ss
      - const: xusb_src
    minItems: 3
    maxItems: 3
    additionalItems: false
  nvidia,xusb-padctl:
    description: FIXME
  phys: {}
  phy-names:
    items:
      - const: usb2-0
      - const: usb2-1
      - const: usb2-2
      - const: usb3-0
      - const: usb3-1
    minItems: 5
    maxItems: 5
    additionalItems: false
  avddio-pex-supply: {}
  dvddio-pex-supply: {}
  avdd-usb-supply: {}
  avdd-pll-utmip-supply: {}
  avdd-pll-erefe-supply: {}
  avdd-usb-ss-pll-supply: {}
  hvdd-usb-ss-supply: {}
  hvdd-usb-ss-pll-e-supply: {}
historical: |+
  NVIDIA Tegra xHCI controller
  ============================

  The Tegra xHCI controller supports both USB2 and USB3 interfaces exposed by
  the Tegra XUSB pad controller.

  Required properties:
  --------------------
  - compatible: Must be:
    - Tegra124: "nvidia,tegra124-xusb"
    - Tegra132: "nvidia,tegra132-xusb", "nvidia,tegra124-xusb"
    - Tegra210: "nvidia,tegra210-xusb"
  - reg: Must contain the base and length of the xHCI host registers, XUSB FPCI
    registers and XUSB IPFS registers.
  - reg-names: Must contain the following entries:
    - "hcd"
    - "fpci"
    - "ipfs"
  - interrupts: Must contain the xHCI host interrupt and the mailbox interrupt.
  - clocks: Must contain an entry for each entry in clock-names.
    See ../clock/clock-bindings.txt for details.
  - clock-names: Must include the following entries:
     - xusb_host
     - xusb_host_src
     - xusb_falcon_src
     - xusb_ss
     - xusb_ss_src
     - xusb_ss_div2
     - xusb_hs_src
     - xusb_fs_src
     - pll_u_480m
     - clk_m
     - pll_e
  - resets: Must contain an entry for each entry in reset-names.
    See ../reset/reset.txt for details.
  - reset-names: Must include the following entries:
    - xusb_host
    - xusb_ss
    - xusb_src
    Note that xusb_src is the shared reset for xusb_{ss,hs,fs,falcon,host}_src.
  - nvidia,xusb-padctl: phandle to the XUSB pad controller that is used to
    configure the USB pads used by the XHCI controller

  For Tegra124 and Tegra132:
  - avddio-pex-supply: PCIe/USB3 analog logic power supply. Must supply 1.05 V.
  - dvddio-pex-supply: PCIe/USB3 digital logic power supply. Must supply 1.05 V.
  - avdd-usb-supply: USB controller power supply. Must supply 3.3 V.
  - avdd-pll-utmip-supply: UTMI PLL power supply. Must supply 1.8 V.
  - avdd-pll-erefe-supply: PLLE reference PLL power supply. Must supply 1.05 V.
  - avdd-usb-ss-pll-supply: PCIe/USB3 PLL power supply. Must supply 1.05 V.
  - hvdd-usb-ss-supply: High-voltage PCIe/USB3 power supply. Must supply 3.3 V.
  - hvdd-usb-ss-pll-e-supply: High-voltage PLLE power supply. Must supply 3.3 V.

  For Tegra210:
  - dvddio-pex-supply: PCIe/USB3 analog logic power supply. Must supply 1.05 V.
  - hvddio-pex-supply: High-voltage PCIe/USB3 power supply. Must supply 1.8 V.
  - avdd-usb-supply: USB controller power supply. Must supply 3.3 V.
  - avdd-pll-utmip-supply: UTMI PLL power supply. Must supply 1.8 V.
  - avdd-pll-uerefe-supply: PLLE reference PLL power supply. Must supply 1.05 V.
  - dvdd-pex-pll-supply: PCIe/USB3 PLL power supply. Must supply 1.05 V.
  - hvdd-pex-pll-e-supply: High-voltage PLLE power supply. Must supply 1.8 V.

  Optional properties:
  --------------------
  - phys: Must contain an entry for each entry in phy-names.
    See ../phy/phy-bindings.txt for details.
  - phy-names: Should include an entry for each PHY used by the controller. The
    following PHYs are available:
    - Tegra124: usb2-0, usb2-1, usb2-2, hsic-0, hsic-1, usb3-0, usb3-1
    - Tegra132: usb2-0, usb2-1, usb2-2, hsic-0, hsic-1, usb3-0, usb3-1
    - Tegra210: usb2-0, usb2-1, usb2-2, usb2-3, hsic-0, usb3-0, usb3-1, usb3-2,
                usb3-3

...
