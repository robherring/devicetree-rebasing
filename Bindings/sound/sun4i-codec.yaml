# SPDX-License-Identifier: None
%YAML 1.2
---
$id: http://devicetree.org/schemas/Bindings/sound/sun4i-codec.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#
version: 1

title: Allwinner A10 Codec

maintainers:
  - Chen-Yu Tsai <wens@csie.org>
  - Maxime Ripard <maxime.ripard@free-electrons.com>
description: test

properties:
  compatible:
    items:
      - enum:
          - allwinner,sun4i-a10-codec
          - allwinner,sun8i-a23-codec
          - allwinner,sun8i-h3-codec
          - allwinner,sun6i-a31-codec
          - allwinner,sun7i-a20-codec
    minItems: 1
    maxItems: 1
    additionalItems: false
  '#sound-dai-cells':
    const: 0x0
  reg:
    minItems: 1
    maxItems: 1
    additionalItems: false
  interrupts: {}
  clocks: {}
  clock-names:
    items:
      - const: apb
      - const: codec
    minItems: 2
    maxItems: 2
    additionalItems: false
  resets: {}
  dmas: {}
  dma-names:
    items:
      - const: rx
      - const: tx
    minItems: 2
    maxItems: 2
    additionalItems: false
  allwinner,codec-analog-controls:
    description: FIXME
  allwinner,pa-gpios:
    description: FIXME
  allwinner,audio-routing:
    items:
      - const: Headphone
      - const: HP
      - const: Headphone
      - const: HPCOM
      - const: Speaker
      - const: HP
      - const: MIC1
      - const: Mic
      - const: MIC2
      - const: Headset Mic
      - const: Mic
      - const: MBIAS
      - const: Headset Mic
      - const: HBIAS
    minItems: 14
    maxItems: 14
    additionalItems: false
    description: FIXME
historical: |+
  * Allwinner A10 Codec

  Required properties:
  - compatible: must be one of the following compatibles:
  		- "allwinner,sun4i-a10-codec"
  		- "allwinner,sun6i-a31-codec"
  		- "allwinner,sun7i-a20-codec"
  		- "allwinner,sun8i-a23-codec"
  		- "allwinner,sun8i-h3-codec"
  		- "allwinner,sun8i-v3s-codec"
  - reg: must contain the registers location and length
  - interrupts: must contain the codec interrupt
  - dmas: DMA channels for tx and rx dma. See the DMA client binding,
  	Documentation/devicetree/bindings/dma/dma.txt
  - dma-names: should include "tx" and "rx".
  - clocks: a list of phandle + clock-specifer pairs, one for each entry
    in clock-names.
  - clock-names: should contain the following:
     - "apb": the parent APB clock for this controller
     - "codec": the parent module clock

  Optional properties:
  - allwinner,pa-gpios: gpio to enable external amplifier

  Required properties for the following compatibles:
  		- "allwinner,sun6i-a31-codec"
  		- "allwinner,sun8i-a23-codec"
  		- "allwinner,sun8i-h3-codec"
  		- "allwinner,sun8i-v3s-codec"
  - resets: phandle to the reset control for this device
  - allwinner,audio-routing: A list of the connections between audio components.
  			   Each entry is a pair of strings, the first being the
  			   connection's sink, the second being the connection's
  			   source. Valid names include:

  			   Audio pins on the SoC:
  			   "HP"
  			   "HPCOM"
  			   "LINEIN"	(not on sun8i-v3s)
  			   "LINEOUT"	(not on sun8i-a23 or sun8i-v3s)
  			   "MIC1"
  			   "MIC2"	(not on sun8i-v3s)
  			   "MIC3"	(sun6i-a31 only)

  			   Microphone biases from the SoC:
  			   "HBIAS"
  			   "MBIAS"	(not on sun8i-v3s)

  			   Board connectors:
  			   "Headphone"
  			   "Headset Mic"
  			   "Line In"
  			   "Line Out"
  			   "Mic"
  			   "Speaker"

  Required properties for the following compatibles:
  		- "allwinner,sun8i-a23-codec"
  		- "allwinner,sun8i-h3-codec"
  		- "allwinner,sun8i-v3s-codec"
  - allwinner,codec-analog-controls: A phandle to the codec analog controls
  				   block in the PRCM.

...
