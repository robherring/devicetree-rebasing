# SPDX-License-Identifier: None
%YAML 1.2
---
$id: http://devicetree.org/schemas/Bindings/sound/nvidia,tegra30-ahub.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#
version: 1

title: NVIDIA Tegra30 AHUB (Audio Hub)

maintainers:
  - Stephen Warren <swarren@nvidia.com>
description: test

properties:
  compatible:
    items:
      - const: nvidia,tegra30-ahub
    minItems: 1
    maxItems: 1
    additionalItems: false
  reg:
    minItems: 1
    maxItems: 1
    additionalItems: false
  interrupts: {}
  clocks: {}
  clock-names:
    items:
      - const: d_audio
      - const: apbif
    minItems: 2
    maxItems: 2
    additionalItems: false
  resets: {}
  reset-names:
    items:
      - const: d_audio
      - const: apbif
      - const: i2s0
      - const: i2s1
      - const: i2s2
      - const: i2s3
      - const: i2s4
      - const: dam0
      - const: dam1
      - const: dam2
      - const: spdif
    minItems: 11
    maxItems: 11
    additionalItems: false
  dmas: {}
  dma-names:
    items:
      - const: rx0
      - const: tx0
      - const: rx1
      - const: tx1
      - const: rx2
      - const: tx2
      - const: rx3
      - const: tx3
    minItems: 8
    maxItems: 8
    additionalItems: false
  ranges: {}
  '#address-cells':
    const: 0x1
  '#size-cells':
    const: 0x1
historical: |+
  NVIDIA Tegra30 AHUB (Audio Hub)

  Required properties:
  - compatible : For Tegra30, must contain "nvidia,tegra30-ahub".  For Tegra114,
    must contain "nvidia,tegra114-ahub".  For Tegra124, must contain
    "nvidia,tegra124-ahub".  Otherwise, must contain "nvidia,<chip>-ahub",
    plus at least one of the above, where <chip> is tegra132.
  - reg : Should contain the register physical address and length for each of
    the AHUB's register blocks.
    - Tegra30 requires 2 entries, for the APBIF and AHUB/AUDIO register blocks.
    - Tegra114 requires an additional entry, for the APBIF2 register block.
  - interrupts : Should contain AHUB interrupt
  - clocks : Must contain an entry for each entry in clock-names.
    See ../clocks/clock-bindings.txt for details.
  - clock-names : Must include the following entries:
    - d_audio
    - apbif
  - resets : Must contain an entry for each entry in reset-names.
    See ../reset/reset.txt for details.
  - reset-names : Must include the following entries:
    Tegra30 and later:
    - d_audio
    - apbif
    - i2s0
    - i2s1
    - i2s2
    - i2s3
    - i2s4
    - dam0
    - dam1
    - dam2
    - spdif
    Tegra114 and later additionally require:
    - amx
    - adx
    Tegra124 and later additionally require:
    - amx1
    - adx1
    - afc0
    - afc1
    - afc2
    - afc3
    - afc4
    - afc5
  - ranges : The bus address mapping for the configlink register bus.
    Can be empty since the mapping is 1:1.
  - dmas : Must contain an entry for each entry in clock-names.
    See ../dma/dma.txt for details.
  - dma-names : Must include the following entries:
    - rx0 .. rx<n>
    - tx0 .. tx<n>
    ... where n is:
    Tegra30: 3
    Tegra114, Tegra124: 9
  - #address-cells : For the configlink bus. Should be <1>;
  - #size-cells : For the configlink bus. Should be <1>.

  AHUB client modules need to specify the IDs of their CIFs (Client InterFaces).
  For RX CIFs, the numbers indicate the register number within AHUB routing
  register space (APBIF 0..3 RX, I2S 0..5 RX, DAM 0..2 RX 0..1, SPDIF RX 0..1).
  For TX CIFs, the numbers indicate the bit position within the AHUB routing
  registers (APBIF 0..3 TX, I2S 0..5 TX, DAM 0..2 TX, SPDIF TX 0..1).

...
