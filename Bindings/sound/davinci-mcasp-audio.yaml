# SPDX-License-Identifier: None
%YAML 1.2
---
$id: http://devicetree.org/schemas/Bindings/sound/davinci-mcasp-audio.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#
version: 1

title: Texas Instruments McASP controller

maintainers:
  - Jyri Sarha <jsarha@ti.com>
  - Hebbar, Gururaja <gururaja.hebbar@ti.com>
description: test

properties:
  compatible:
    items:
      - enum:
          - ti,dra7-mcasp-audio
          - ti,am33xx-mcasp-audio
          - ti,da830-mcasp-audio
    minItems: 1
    maxItems: 1
    additionalItems: false
  ti,hwmods:
    items:
      - const: mcasp0
    minItems: 1
    maxItems: 1
    additionalItems: false
    description: FIXME
  reg:
    minItems: 2
    maxItems: 2
    additionalItems: false
  reg-names:
    items:
      - const: mpu
      - const: dat
    minItems: 2
    maxItems: 2
    additionalItems: false
  interrupts: {}
  interrupt-names:
    items:
      - const: tx
      - const: rx
    minItems: 2
    maxItems: 2
    additionalItems: false
  dmas: {}
  dma-names:
    items:
      - const: tx
      - const: rx
    minItems: 2
    maxItems: 2
    additionalItems: false
  pinctrl-names:
    items:
      - const: default
    minItems: 1
    maxItems: 1
    additionalItems: false
  pinctrl-0: {}
  op-mode: {}
  tdm-slots: {}
  serial-dir: {}
  tx-num-evt: {}
  rx-num-evt: {}
  clocks: {}
  clock-names:
    items:
      - const: fck
      - const: ahclkx
      - const: ahclkr
    minItems: 3
    maxItems: 3
    additionalItems: false
  '#sound-dai-cells':
    const: 0x0
historical: |+
  Texas Instruments McASP controller

  Required properties:
  - compatible :
  	"ti,dm646x-mcasp-audio"	: for DM646x platforms
  	"ti,da830-mcasp-audio"	: for both DA830 & DA850 platforms
  	"ti,am33xx-mcasp-audio"	: for AM33xx platforms (AM33xx, AM43xx, TI81xx)
  	"ti,dra7-mcasp-audio"	: for DRA7xx platforms

  - reg : Should contain reg specifiers for the entries in the reg-names property.
  - reg-names : Should contain:
           * "mpu" for the main registers (required). For compatibility with
             existing software, it is recommended this is the first entry.
           * "dat" for separate data port register access (optional).
  - op-mode : I2S/DIT ops mode. 0 for I2S mode. 1 for DIT mode used for S/PDIF,
    	    IEC60958-1, and AES-3 formats.
  - tdm-slots : Slots for TDM operation. Indicates number of channels transmitted
    	      or received over one serializer.
  - serial-dir : A list of serializer configuration. Each entry is a number
                 indication for serializer pin direction.
                 (0 - INACTIVE, 1 - TX, 2 - RX)
  - dmas: two element list of DMA controller phandles and DMA request line
          ordered pairs.
  - dma-names: identifier string for each DMA request line in the dmas property.
  	     These strings correspond 1:1 with the ordered pairs in dmas. The dma
  	     identifiers must be "rx" and "tx".

  Optional properties:

  - ti,hwmods : Must be "mcasp<n>", n is controller instance starting 0
  - tx-num-evt : FIFO levels.
  - rx-num-evt : FIFO levels.
  - sram-size-playback : size of sram to be allocated during playback
  - sram-size-capture  : size of sram to be allocated during capture
  - interrupts : Interrupt numbers for McASP
  - interrupt-names : Known interrupt names are "tx" and "rx"
  - pinctrl-0: Should specify pin control group used for this controller.
  - pinctrl-names: Should contain only one value - "default", for more details
    		 please refer to pinctrl-bindings.txt
  - fck_parent : Should contain a valid clock name which will be used as parent
  	       for the McASP fck

...
