# SPDX-License-Identifier: None
%YAML 1.2
---
$id: http://devicetree.org/schemas/Bindings/sound/nvidia,tegra-audio-rt5640.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#
version: 1

title: NVIDIA Tegra audio complex, with RT5640 CODEC

maintainers:
  - Stephen Warren <swarren@nvidia.com>
description: test

properties:
  compatible:
    items:
      - enum:
          - nvidia,tegra-audio-rt5640-jetson-tk1
          - nvidia,tegra-audio-rt5640-dalmore
          - nvidia,tegra-audio-rt5640-beaver
      - const: nvidia,tegra-audio-rt5640
    minItems: 2
    maxItems: 2
    additionalItems: false
  nvidia,model:
    items:
      - const: NVIDIA Tegra Dalmore
    minItems: 1
    maxItems: 1
    additionalItems: false
    description: FIXME
  nvidia,audio-routing:
    items:
      - const: Headphones
      - const: HPOR
      - const: Headphones
      - const: HPOL
      - const: Speakers
      - const: SPORP
      - const: Speakers
      - const: SPORN
      - const: Speakers
      - const: SPOLP
      - const: Speakers
      - const: SPOLN
      - const: Mic Jack
      - const: MICBIAS1
      - const: IN2P
      - const: Mic Jack
    minItems: 16
    maxItems: 16
    additionalItems: false
    description: FIXME
  nvidia,i2s-controller:
    description: FIXME
  nvidia,audio-codec:
    description: FIXME
  nvidia,hp-det-gpios:
    description: FIXME
  clocks: {}
  clock-names:
    items:
      - const: pll_a
      - const: pll_a_out0
      - const: mclk
    minItems: 3
    maxItems: 3
    additionalItems: false
historical: |+
  NVIDIA Tegra audio complex, with RT5640 CODEC

  Required properties:
  - compatible : "nvidia,tegra-audio-rt5640"
  - clocks : Must contain an entry for each entry in clock-names.
    See ../clocks/clock-bindings.txt for details.
  - clock-names : Must include the following entries:
    - pll_a
    - pll_a_out0
    - mclk (The Tegra cdev1/extern1 clock, which feeds the CODEC's mclk)
  - nvidia,model : The user-visible name of this sound complex.
  - nvidia,audio-routing : A list of the connections between audio components.
    Each entry is a pair of strings, the first being the connection's sink,
    the second being the connection's source. Valid names for sources and
    sinks are the RT5640's pins (as documented in its binding), and the jacks
    on the board:

    * Headphones
    * Speakers
    * Mic Jack

  - nvidia,i2s-controller : The phandle of the Tegra I2S controller that's
    connected to the CODEC.
  - nvidia,audio-codec : The phandle of the RT5640 audio codec. This binding
    assumes that AIF1 on the CODEC is connected to Tegra.

  Optional properties:
  - nvidia,hp-det-gpios : The GPIO that detects headphones are plugged in

...
