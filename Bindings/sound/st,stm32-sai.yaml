# SPDX-License-Identifier: None
%YAML 1.2
---
$id: http://devicetree.org/schemas/Bindings/sound/st,stm32-sai.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#
version: 1

title: STMicroelectronics STM32 Serial Audio Interface (SAI).

maintainers:
  - olivier moysan <olivier.moysan@st.com>
description: |+
  The SAI interface (Serial Audio Interface) offers a wide set of audio protocols
  as I2S standards, LSB or MSB-justified, PCM/DSP, TDM, and AC'97.
  The SAI contains two independent audio sub-blocks. Each sub-block has
  its own clock generator and I/O lines controller.

             

properties:
  compatible: {}
historical: |+
  STMicroelectronics STM32 Serial Audio Interface (SAI).

  The SAI interface (Serial Audio Interface) offers a wide set of audio protocols
  as I2S standards, LSB or MSB-justified, PCM/DSP, TDM, and AC'97.
  The SAI contains two independent audio sub-blocks. Each sub-block has
  its own clock generator and I/O lines controller.

  Required properties:
    - compatible: Should be "st,stm32f4-sai" or "st,stm32h7-sai"
    - reg: Base address and size of SAI common register set.
    - clocks: Must contain phandle and clock specifier pairs for each entry
  	in clock-names.
    - clock-names: Must contain "pclk" "x8k" and "x11k"
  	"pclk": Clock which feeds the peripheral bus interface.
  	        Mandatory for "st,stm32h7-sai" compatible.
  	        Not used for "st,stm32f4-sai" compatible.
  	"x8k": SAI parent clock for sampling rates multiple of 8kHz.
  	"x11k": SAI parent clock for sampling rates multiple of 11.025kHz.
    - interrupts: cpu DAI interrupt line shared by SAI sub-blocks

  Optional properties:
    - resets: Reference to a reset controller asserting the SAI

  SAI subnodes:
  Two subnodes corresponding to SAI sub-block instances A et B can be defined.
  Subnode can be omitted for unsused sub-block.

  SAI subnodes required properties:
    - compatible: Should be "st,stm32-sai-sub-a" or "st,stm32-sai-sub-b"
  	for SAI sub-block A or B respectively.
    - reg: Base address and size of SAI sub-block register set.
    - clocks: Must contain one phandle and clock specifier pair
  	for sai_ck which feeds the internal clock generator.
    - clock-names: Must contain "sai_ck".
    - dmas: see Documentation/devicetree/bindings/dma/stm32-dma.txt
    - dma-names: identifier string for each DMA request line
  	"tx": if sai sub-block is configured as playback DAI
  	"rx": if sai sub-block is configured as capture DAI
    - pinctrl-names: should contain only value "default"
    - pinctrl-0: see Documentation/devicetree/bindings/pinctrl/pinctrl-stm32.txt

  SAI subnodes Optional properties:
    - st,sync: specify synchronization mode.
  	By default SAI sub-block is in asynchronous mode.
  	This property sets SAI sub-block as slave of another SAI sub-block.
  	Must contain the phandle and index of the sai sub-block providing
  	the synchronization.

  The device node should contain one 'port' child node with one child 'endpoint'
  node, according to the bindings defined in Documentation/devicetree/bindings/
  graph.txt.

...
